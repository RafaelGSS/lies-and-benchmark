const ttest = require('ttest')

const A = [
  3899, 3890, 3893, 3889, 3882,
  3879, 3931, 3890, 3907, 3927,
  3868, 3920, 3901, 3883, 3902,
  3929, 3923, 3899, 3905, 3887,
  3895, 3896, 3915, 3923, 3900,
  3902, 3915, 3872, 3908, 3903
]

const B = [
  4662, 4658, 4656, 4621, 4658,
  4694, 4686, 4652, 4654, 4690,
  4695, 4625, 4673, 4654, 4600,
  4659, 4653, 4685, 4643, 4644,
  4720, 4656, 4666, 4638, 4619,
  4676, 4624, 4661, 4636, 4633
]

const res = ttest(A, B, { varEqual: true })
console.log(res.pValue(), res.pValue() * 100)

const A1 = [
  4670, 4646, 4612, 4618, 4646,
  4609, 4623, 4629, 4566, 4628,
  4582, 4636, 4621, 4574, 4624,
  4563, 4651, 4642, 4586, 4621,
  4606, 4628, 4575, 4631, 4646,
  4600, 4594, 4661, 4568, 4611
]

const B1 = [
  4630, 4655, 4652, 4633, 4637,
  4661, 4625, 4680, 4647, 4639,
  4633, 4661, 4638, 4621, 4630,
  4682, 4703, 4665, 4652, 4648,
  4673, 4651, 4669, 4646, 4612,
  4654, 4651, 4619, 4637, 4620
]

const res1 = ttest(A1, B1, { varEqual: true, alpha: 0.05 })
console.log(res1.pValue(), res1.pValue() * 100)

const A2 = [
  46.37, 45.43, 45.1, 43.25, 45.51,
  46.8,  45.3, 43.58, 43.3, 45.42,
  46.02, 44.5, 43.94, 43.67, 43.55,
  43.71, 46.62, 46.56, 43.5, 43.84,
  45.75, 43.86, 46.76, 43.32, 44.08,
  45.92, 46.2, 46.24, 43.97, 43.03
]
const B2 = [
  45.69,  43.3, 45.16, 44.66,
  42.27, 42.83, 43.28, 43.01,
  43.37, 44.64, 44.85, 44.61,
  42.05, 44.01,  43.9, 42.39,
  42.24, 45.22, 45.66, 45.31,
  45.33, 45.02, 43.26, 44.43,
  45.53, 42.19, 42.44, 43.66,
  44.66, 45.55
]

const res2 = ttest(A2, B2, { varEqual: true, alpha: 0.05 })
if (res2.pValue() <= 0.05) {
  console.log(`It's a significant difference - `, res2.pValue())
} else {
  console.log(`It's NOT a significant difference - `, res2.pValue())
}
console.log('Confidence', res2.confidence())
